x-meta:
  app: kolibri
  version: 1.1

  # Catalog data
  title: Kolibri
  description: |
    Kolibri is an adaptable set of open solutions specially developed to support learning for the half of the world without Internet access. 
    Centered around an offline-first learning platform that runs on a variety of low-cost and legacy devices, the Kolibri Product Ecosystem includes a curricular tool, a library of open educational resources, and a toolkit of resources to support training and implementation in formal, informal, and non-formal learning environments.
  url: https://learningequality.org/kolibri/

  # Who created the compose file? (not the app ;-)
  author: Koen Swings
  organisation: appdocker
networks:
  frontend:
    external: true
  backend:
    external: true
services:
  kolibri:
    image: koenswings/kolibri:1.0-0.15.5-dev
    restart: unless-stopped
    pull_policy: never
    volumes:
      - ./data:/root/.kolibri
    networks:
      - frontend
      - backend
    labels:
      - "append=true"
      - "traefik.enable=true"
      - "traefik.docker.network=frontend"
      # Route http://kolibri.{server_hostname}.{server_hostname}
      - "traefik.http.routers.kolibri.entrypoints=web"
      - "traefik.http.routers.kolibri.rule=Host(`kolibri.{server_hostname}.{server_domain}`)"
      - "traefik.http.routers.kolibri.service=kolibri"
      - "traefik.http.services.kolibri.loadbalancer.server.port=8080"
